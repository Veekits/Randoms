(window.dealsJsonpFunction=window.dealsJsonpFunction||[]).push([[1],{"/tl3":function(e,a,t){"use strict";t.d(a,"a",(function(){return o}));var n=t("mrSG"),r=t("q1tI"),c=t.n(r),l=t("08nV"),i=t.n(l);function o(e){if(e.textColor){var a=e.textColor,t=Object(n.e)(e,["textColor"]),r=(t.cssClass||"")+" a-color-"+a;return c.a.createElement(i.a,Object(n.a)({},t,{cssClass:r}))}return c.a.createElement(i.a,Object(n.a)({},e))}},"20sj":function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t("q1tI");function r(e){var a=Object(n.useRef)();return Object(n.useEffect)((function(){a.current=e}),[e]),a.current}},"5Yw3":function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t("q1tI"),r=Object(n.createContext)({wineBottleGreen:!1})},CmoL:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t("q1tI"),r=t.n(n),c=t("frMT"),l=t.n(c);function i(e){var a=e.dealID,t=e.isHorizontal;return r.a.createElement("div",{"data-testid":"deal-card-skeleton","data-deal-id":a,className:""+(t?l.a.skeletonLoaderContainerHorizontal:l.a.skeletonLoaderContainer)},r.a.createElement("div",{className:t?l.a.skeletonLoaderHorizontal:l.a.skeletonLoader}))}},Hoaa:function(e,a,t){"use strict";t.d(a,"a",(function(){return l}));var n=t("q1tI"),r=t("mxJH"),c=t("aE9G");function l(e,a,t){var l=Object(r.c)(e),i=function(){var e=Object(n.useState)(!0),a=e[0],t=e[1],r=Object(n.useCallback)((function(){t(!document.hidden)}),[]);return Object(n.useEffect)((function(){return document.addEventListener("visibilitychange",r),function(){return document.removeEventListener("visibilitychange",r)}}),[r]),a}(),o=Object(n.useState)(!1),s=o[0],d=o[1];Object(n.useEffect)((function(){a&&i&&t().catch((function(e){e instanceof c.a&&d(!0)}))}),[i,a,t]),Object(n.useEffect)((function(){if(a&&i&&!s){var e=setInterval((function(){t().catch((function(a){a instanceof c.a&&clearInterval(e)}))}),12e3);return function(){return clearInterval(e)}}}),[l,i,a,t,s])}},ZXPB:function(e,a,t){"use strict";t.d(a,"a",(function(){return aa}));var n=t("mrSG"),r=t("q1tI"),c=t.n(r),l=t("TSYQ"),i=t.n(l),o=t("SrB9"),s=t("i7xV"),d=t("/xOi"),u=t("88fb"),m=t("b9ts"),E=t("/MKj"),b=t("3w8K");var f=t("/tl3"),g=t("am2K"),p=t.n(g);function v(e){var a=e.dealID,t=e.dealRank,l=e.percentClaimed,i=e.source,o=e.url,s=e.sponsoredUrl,d=e.isAriaHidden,u=Object(n.e)(e,["dealID","dealRank","percentClaimed","source","url","sponsoredUrl","isAriaHidden"]),m=Object(E.d)(),g=Object(r.useMemo)((function(){var e=m(Object(b.a)(o)),n=m(Object(b.b)({dealID:a,dealRank:t,percentClaimed:l,source:i},e));return s?m(Object(b.d)(s,n)):n}),[a,t,l,i,m,o,s]);return c.a.createElement(f.a,Object(n.a)({cssClass:p.a.dealLink},d&&{tabIndex:-1},u,{url:g,onClick:function(){m(Object(b.k)({dealID:a,dealRank:t,percentClaimed:l,source:i}))}}))}var h=t("6soB"),y=t("mZCz"),O=function(e){function a(){var a=null!==e&&e.apply(this,arguments)||this;return a.state={hasError:!1},a}return Object(n.c)(a,e),a.getDerivedStateFromError=function(){return{hasError:!0}},a.prototype.componentDidCatch=function(e,a){var t="Component failed to render the tree: "+a.componentStack;this.props.message&&(t=t+".\n"+this.props.message);var n=[this.context.slot,this.context.widgetType];this.props.attribution&&n.push(this.props.attribution);y.b.fatal({attribution:n,message:t,exception:e}),this.props.dispatch(Object(b.h)({message:t,exception:e})),Object(h.e)("deals:fatals:component:failedToRender",1)},a.prototype.render=function(){return this.state.hasError?null:this.props.children},a.contextType=u.a,a}(c.a.Component),j=Object(E.c)()(O),C=t("ShBF"),A=t.n(C),_=t("MrWq"),L=t.n(_),P=t("uxts"),x=t("SN2E"),S=t("IOG6");function w(e,a){return e.map((function(e){return Object(s.z)(e)?e.text:Object(s.A)(e)?Object(S.c)(e.msLeft):Object(s.x)(e)?e.text:Object(s.y)(e)?Object(x.d)(e.price,a):""})).join("")}function D(e,a){return e.some((function(e){return Object(s.A)(e)&&Math.max(0,e.msLeft-a)>0}))}var I=t("O6J4"),N=t.n(I);function k(e){var a=Object(r.useContext)(u.a).isRtlLocale,t=Object(r.useContext)(u.a).currency,n=e.label,l=e.isLargeLabel,i=[N.a.badgeAutomatedLabel];return a&&i.push(N.a.rtl),l&&i.push(N.a.large),c.a.createElement("div",{style:{color:"#"+n.color,background:"#"+n.backgroundColor},className:i.join(" ")},w(n.message,t))}var T=t("7hTX"),B=t.n(T);function R(e){var a,t,n=e.message,l=e.color,d=e.backgroundColor,m=e.className,E=Object(r.useContext)(u.a),b=E.currency,f=E.weblabs,g=(null===f||void 0===f?void 0:f.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388)===o.c.T4,p=Object(r.useState)(Date.now())[0],v=Object(r.useState)(0),h=v[0],y=v[1];Object(r.useEffect)((function(){var e;return D(n,h)&&(e=setTimeout((function(){y(Date.now()-p)}),S.a)),function(){return clearTimeout(e)}}),[h,p,n]);var O=Object(r.useMemo)((function(){return function(e,a){return e.some((function(e){return Object(s.A)(e)&&Math.max(0,e.msLeft-a)<=0}))}(n,h)?"":w(function(e,a){return e.map((function(e){return Object(s.A)(e)?{msLeft:Math.max(0,e.msLeft-a)}:e}))}(n,h),b)}),[h,b,n]);return D(n,h)?c.a.createElement("div",{style:{color:"#"+l,background:"#"+d},className:i()(m,B.a.dealMessaging,(a={},a[B.a.dealMessaging_light]=g,a))},O):c.a.createElement("time",{style:{color:"#"+l,background:"#"+d},className:i()(m,B.a.dealMessaging,(t={},t[B.a.dealMessaging_light]=g,t)),role:"timer"},O)}var F=t("axxP"),G=t.n(F);function z(e){var a=Object(E.d)(),t=Object(r.useContext)(m.a).screenWidth,l=e.label&&c.a.createElement(k,{label:e.label}),i=e.messaging&&c.a.createElement(R,Object(n.a)({},e.messaging)),o=Object(r.useState)(!1),s=o[0],d=o[1],u=Object(r.useState)(!1),f=u[0],g=u[1],p=Object(r.useRef)(null),v=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e,t,n=null!==(t=null===(e=v.current)||void 0===e?void 0:e.clientHeight)&&void 0!==t?t:0;if(0===n){var r=new Error("Badge check calculation is error the height of check element is 0px");a(Object(b.g)({exception:r,message:r.message}))}g(n>27),d(!0)}),[t,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:p,className:f?G.a.badgeTwoLineContainer:G.a.badgeOneLineContainer},s&&c.a.createElement(c.a.Fragment,null,l,i)),c.a.createElement("div",{ref:v,className:[G.a.badgeLayoutCheck,G.a.badgeOneLineContainer].join(" "),"aria-hidden":"true"},l,i))}var M=t("x0Of"),W=t.n(M);function U(e){var a,t=e.label,n=e.isLightLabel,l=e.className,d=Object(r.useContext)(u.a),m=d.currency,E=d.isRtlLocale,b=d.weblabs.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T4;return c.a.createElement("div",{style:{color:"#"+t.backgroundColor},className:i()(l,W.a.badgeAutomatedLabelApex,(a={},a[W.a.light]=n,a[W.a.rtl]=E,a[W.a.asSecondary]=b&&(t.type===s.j.UPCOMING_PRIME_EARLY_ACCESS_DEAL||t.type===s.j.UPCOMING_DEAL||t.type===s.j.LIVE_UNDEFINED||t.type===s.j.UNKNOWN),a))},w(t.message,m))}var H=t("i8i4"),V=t.n(H),X=t("H89j"),q=t.n(X),K=(t("S3j2"),t("1MRC"),t("i0Ix")),J=t.n(K);Object(d.b)("deals-alt-price-label","Deal price");function Y(e){var a={currency:Object(r.useContext)(u.a).currency,priceColor:"unspecified"};switch(e.type){case s.p.SINGLE_DEAL_PRICE:return c.a.createElement($,Object(n.a)({},e,a,{showPercentOff:e.showPercentOff}));default:return null}}function Z(e){var a=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){var e;null===(e=V.a.findDOMNode(a.current).querySelector('[aria-hidden="true"]'))||void 0===e||e.setAttribute("aria-hidden","false")}),[]),c.a.createElement(q.a,Object(n.a)({role:"text",ref:a},e))}function Q(e){var a,t,n,l=e.decimalSeparator,s=e.wholeValue,d=e.currencySymbol,m=e.currencySymbolPosition,E=e.altText,b=e.priceSize,f=Object(r.useContext)(u.a).weblabs.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T4;if(!s||!l)return null;var g=function(e,a){var t=e.split(a),n=t[0],r=t[1];return{integerValue:n,fractionalValue:r,decimalSeparator:a}}(s,l),p=g.integerValue,v=g.fractionalValue,h=c.a.createElement("span",{className:i()((a={},a[J.a.dealsCustomPriceCurrency]=f,a))},d);return c.a.createElement("div",{"aria-label":E,className:J.a.dealsCustomPrice},m===o.b.LEFT&&h,c.a.createElement("div",{className:J.a.dealsCustomPriceValue},c.a.createElement("div",{className:i()(J.a.dealsCustomPriceInteger,(t={},t[J.a.large]="large"===b,t[J.a.extraLarge]="extra-large"===b,t[J.a.dealsCustomPriceIntegerApex]=f,t))},p),c.a.createElement("div",{className:i()((n={},n[J.a.dealsCustomPriceDecimalApex]=f,n))},v)),m===o.b.RIGHT&&h)}function $(e){var a=c.a.createElement(Z,{altText:te(e,e.currency),currencySymbol:e.currency.symbol,currencySymbolPosition:e.currency.symbolPosition,priceColor:e.priceColor,priceSize:"medium",wholeValue:e.price}),t=e.unitPrice&&c.a.createElement(ee,Object(n.a)({},e.unitPrice,{priceColor:e.priceColor,currency:e.currency})),r=e.strikeThroughPrice&&c.a.createElement(ae,Object(n.a)({},e.strikeThroughPrice,{currency:e.currency,showPercentOff:e.showPercentOff}));return c.a.createElement(c.a.Fragment,null,a," ",t,c.a.createElement("div",null,r))}function ee(e){var a=e.baseValue,t=e.label,n=e.currency,l=e.price,i=e.priceColor,s=Object(r.useContext)(u.a).weblabs.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T4,d=a&&"1"!==a?a+" "+t:t,m=n.symbolPosition===o.b.LEFT?""+n.symbol+l+" / "+d:""+l+n.symbol+" / "+d;return s?c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{textColor:i,cssClass:"aok-nowrap",textSize:"small","aria-hidden":"true"},"(",c.a.createElement(Z,{currencySymbol:n.symbol,currencySymbolPosition:n.symbolPosition,wholeValue:l,priceColor:i,priceSize:"small"}),"/",d,")"),c.a.createElement("span",{className:"a-offscreen"}," (",m,")")):c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{textColor:i,cssClass:"aok-nowrap",textSize:"small","aria-hidden":"true"},"(",c.a.createElement(Z,{currencySymbol:n.symbol,currencySymbolPosition:n.symbolPosition,wholeValue:l,priceColor:i,priceSize:"small"})," ","/ ",d,")"),c.a.createElement("span",{className:"a-offscreen"}," (",m,")"))}function ae(e){var a=Object(r.useContext)(u.a).weblabs.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T4,t=e.basis.label+" "+e.basis.price+" "+Object(d.b)("deals-percent-off","("+e.percentOff+"% off)",{percentage:e.percentOff});return a?c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{textColor:"secondary",textSize:"small","aria-hidden":"true"},e.basis.label,c.a.createElement(Z,{currencySymbol:e.currency.symbol,currencySymbolPosition:e.currency.symbolPosition,wholeValue:e.basis.price,strikethrough:!0,priceColor:"secondary",priceSize:"small"})," ",e.showPercentOff&&c.a.createElement(d.a,{string_id:"deals-percent-off",default:"("+e.percentOff+"% off)",params:{percentage:e.percentOff}})),c.a.createElement("span",{className:"a-offscreen"}," ",t)):c.a.createElement(A.a,{spacing:"micro"},c.a.createElement(L.a,{textColor:"secondary",textSize:"small","aria-hidden":"true"},e.basis.label,c.a.createElement(Z,{currencySymbol:e.currency.symbol,currencySymbolPosition:e.currency.symbolPosition,wholeValue:e.basis.price,strikethrough:!0,priceColor:"secondary",priceSize:"small"})," ",e.showPercentOff&&c.a.createElement(d.a,{string_id:"deals-percent-off",default:"("+e.percentOff+"% off)",params:{percentage:e.percentOff}})),c.a.createElement("span",{className:"a-offscreen"}," ",t))}function te(e,a){var t=Object(d.b)("deals-alt-price-label","Deal price")+": ";switch(e.type){case s.p.SINGLE_DEAL_PRICE:return t+Object(x.d)(e.price,a);case s.p.DEAL_PRICE_AND_UNDER:return""+t+Object(x.d)(e.price,a)+" "+Object(d.b)("deals-price-and-under","and under");case s.p.PRICE_RANGE:return""+t+Object(x.d)(e.minPrice,a)+" - "+Object(x.d)(e.maxPrice,a);case s.p.MARKETING_MESSAGE:return t+e.message;case s.p.UP_TO_PERCENT_OFF:return t+Object(d.b)("deals-up-to-percent-off","Up to ${percentage}% off",{percentage:e.percentOff});case s.p.MESSAGE:return t+w(e.message,a);case s.p.SUPPRESSED:default:return""}}var ne=t("pvp4"),re=t.n(ne),ce=new Set([s.k.LIVE_DEFAULT_DEAL,s.k.LIVE_TOP_DEAL]);function le(e){var a,t,l,d,f,g,p,v,h,y,O,j,C,A,_,L,P,x=Object(E.d)(),S=Object(r.useContext)(m.a).screenWidth,w=Object(r.useContext)(u.a),D=w.currency,I=w.weblabs,N=w.isRtlLocale,T=Object(r.useRef)(null),B=Object(r.useRef)(null),F=e.priceProps,G=I.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T2,z=I.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T3,M=I.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388===o.c.T4,W=z||M,H=Object(r.useState)(M),V=H[0],X=H[1],q=Object(r.useState)(!1),K=q[0],J=q[1],Y={currency:D,priceColor:"unspecified"},Z=G||W?35:29,$=W&&((null===(f=e.label)||void 0===f?void 0:f.type)===s.j.UPCOMING_DEAL||(null===(g=e.label)||void 0===g?void 0:g.type)===s.j.UNKNOWN),ne=(null===I||void 0===I?void 0:I.DEALS_REMOVE_PRICE_540309)===o.c.T1,le=e.label&&(W?c.a.createElement(U,{label:e.label,isLightLabel:M,className:i()((a={},a[re.a.inlineLabelAndMessage]=$,a))}):c.a.createElement(k,{label:e.label,isLargeLabel:G})),ie=e.messaging&&c.a.createElement(R,Object(n.a)({},e.messaging,{className:i()((t={},t[re.a.inlineLabelAndMessage]=$,t))}));!M||(null===(p=e.messaging)||void 0===p?void 0:p.type)&&!ce.has(null===(v=e.messaging)||void 0===v?void 0:v.type)||(ie=null),(null===(h=e.label)||void 0===h?void 0:h.type)!==s.j.UNKNOWN&&(null===(y=e.label)||void 0===y?void 0:y.type)!==s.j.UPCOMING_DEAL&&(null===(O=e.label)||void 0===O?void 0:O.type)!==s.j.LIVE_UNDEFINED||(null===(j=e.messaging)||void 0===j?void 0:j.type)!==s.k.UNKNOWN||(ie=null);var oe=F.type!==s.p.SINGLE_DEAL_PRICE||ne?[null,null,null,null]:[c.a.createElement(Q,{altText:te(F,D),currencySymbol:Y.currency.symbol,currencySymbolPosition:Y.currency.symbolPosition,decimalSeparator:Y.currency.decimalSeparator,wholeValue:F.price,priceSize:G?"large":W?"extra-large":"medium"}),F.unitPrice?c.a.createElement(ee,Object(n.a)({},F.unitPrice,{priceColor:M?"secondary":Y.priceColor,currency:Y.currency})):null,F.strikeThroughPrice?c.a.createElement(ae,Object(n.a)({},F.strikeThroughPrice,{currency:Y.currency,showPercentOff:F.showPercentOff})):null],se=oe[0],de=oe[1],ue=oe[2];Object(r.useEffect)((function(){var e,a;if(!M){var t=null!==(a=null===(e=B.current)||void 0===e?void 0:e.clientHeight)&&void 0!==a?a:0;if(0===t){var n=new Error("Apex badge check calculation is error the height of check element is 0px");x(Object(b.g)({exception:n,message:n.message}))}J(t>Z),X(!0)}}),[S,x,Z,M]);var me=M?c.a.createElement(c.a.Fragment,null,le,se,de,ue):c.a.createElement(c.a.Fragment,null,le,c.a.createElement("div",null,se," ",de));return!M||(null===(C=e.label)||void 0===C?void 0:C.type)!==s.j.UPCOMING_PRIME_EARLY_ACCESS_DEAL&&(null===(A=e.label)||void 0===A?void 0:A.type)!==s.j.UPCOMING_DEAL&&(null===(_=e.label)||void 0===_?void 0:_.type)!==s.j.UNKNOWN&&(null===(L=e.label)||void 0===L?void 0:L.type)!==s.j.LIVE_UNDEFINED&&(null===(P=e.messaging)||void 0===P?void 0:P.type)!==s.k.COUPON?c.a.createElement("div",{className:re.a.apexBadge},ie,c.a.createElement("div",{ref:T,className:i()((d={},d[re.a.badgeTwoLineContainer]=!M&&K,d[re.a.badgeOneLineContainer]=!M&&!K,d[re.a.badgeBreakPriceContainer]=M,d[re.a.badgeBreakPriceContainerNoPrice]=M&&F.type!==s.p.SINGLE_DEAL_PRICE,d))},V&&me),M?null:c.a.createElement("div",{ref:B,className:i()(re.a.badgeLayoutCheck,re.a.badgeOneLineContainer)},me),M?null:c.a.createElement("div",null,ue)):c.a.createElement("div",{className:re.a.apexBadge},c.a.createElement("div",{className:i()((l={},l[re.a.apexMessageAndLabelOneLine]=$,l[re.a.apexMessageAndLabelTextNoPrice]=F.type!==s.p.SINGLE_DEAL_PRICE,l[re.a.rtl]=N,l))},le,ie),F.type===s.p.SINGLE_DEAL_PRICE&&c.a.createElement("div",{className:i()(re.a.badgeBreakPriceContainer,re.a.badgeBreakPriceContainer_withLabelsAbove)},se,de,ue))}var ie=t("lN9z"),oe=t.n(ie),se=t("0zI1"),de=t.n(se),ue=t("mxJH"),me=t("SkHl"),Ee=t.n(me);function be(e){var a=Object(r.useState)(!1)[0],t=Object(r.useContext)(m.a).largeDevice,n=Object(r.useContext)(u.a).showWatchDealAction,l=Object(E.d)(),i=e.deal,o=i.dealStatus,s=i.dealRank,d=i.dealID;return c.a.createElement("div",{className:t?Ee.a.actionRow+" "+Ee.a.withoutActionButton:""+Ee.a.dealActionRow},c.a.createElement(fe,{dealID:d,dealRank:s,isInProgress:a,onWatch:function(){return l(Object(ue.p)(e.deal))},isWatched:o.isWatched,showWatchDealAction:n}))}function fe(e){return e.showWatchDealAction?c.a.createElement(pe,{isWatched:e.isWatched,onWatch:e.onWatch,dealID:e.dealID}):null}function ge(e){var a=e.isInProgress,t=e.altLabel,n=e.action,l=e.onClick,i=e.children,o=e.dealID,s=Object(r.useContext)(u.a).widgetType;return a?c.a.createElement(de.a,{size:"small",style:{width:"100%"}}):c.a.createElement(oe.a,{role:"button","aria-label":t,buttonSize:"small",widthNamed:"extra-large",style:{width:"100%"},"data-csa-c-type":"uxElement","data-csa-c-element-id":"grid-button-"+n,"data-csa-c-painter":s,"data-csa-c-element-type":"option","data-csa-c-deal-id":o,onClick:function(e){e.preventDefault(),l()}},i)}function pe(e){var a=e.onWatch,t=e.isWatched,l=e.dealID,i=Object(r.useState)(null),o=i[0],s=i[1],u=Object(r.useState)(!1),m=u[0],E=u[1],b=Object(r.useRef)();function f(){return Object(n.b)(this,void 0,void 0,(function(){var e;return Object(n.d)(this,(function(t){switch(t.label){case 0:return m?[2]:(E(!0),[4,a()]);case 1:return e=t.sent(),E(!1),e.isSuccessful||(s(e.error),b.current=setTimeout((function(){s(null)}),4e3)),[2]}}))}))}return Object(r.useEffect)((function(){return function(){return b.current&&clearTimeout(b.current)}}),[b]),o?c.a.createElement(ve,null,o):t?c.a.createElement(ge,{onClick:f,isInProgress:m,altLabel:Object(d.b)("deals-stop-watching-this-deal","Stop watching"),action:"unwatch",dealID:l},c.a.createElement(d.a,{string_id:"deals-stop-watching-this-deal",default:"Stop watching"})):c.a.createElement(ge,{onClick:f,isInProgress:m,altLabel:Object(d.b)("deals-watch-this-deal","Watch deal"),action:"watch",dealID:l},c.a.createElement(d.a,{string_id:"deals-watch-this-deal",default:"Watch deal"}))}function ve(e){return c.a.createElement(oe.a,{onClick:function(e){e.preventDefault()},status:"disabled",buttonSize:"small",widthNamed:"extra-large",style:{width:"100%"}},e.children)}var he=t("k7wO"),ye=t.n(he);function Oe(e){return c.a.createElement(A.a,{spacingTop:"micro"},c.a.createElement("div",{className:ye.a.bar},c.a.createElement("div",{className:ye.a.filledBar,style:{width:e.percentageClaimed+"%"}})),c.a.createElement(A.a,{spacingTop:"micro"},c.a.createElement(L.a,{cssClass:ye.a.timerAndPercent},c.a.createElement("div",{className:ye.a.claimedPercentage},c.a.createElement(d.a,{string_id:"deals-percentage-claimed",default:e.percentageClaimed+"% claimed",params:{percentage:e.percentageClaimed}})))))}function je(e){var a,t,n,r=e.deal,l=r.dealStatus,i=r.dealDetails;return c.a.createElement(A.a,{spacing:"mini",spacingTop:"mini"},c.a.createElement(L.a,{textSize:"mini"},c.a.createElement(Oe,{percentageClaimed:l.percentClaimed||0,msToEnd:(a=i.msToEnd,t=i.transformationTime,n=Date.now()-t,n>1e3?a-n:a),onDealExpired:function(){}})))}var Ce=t("jSPA"),Ae=t.n(Ce),_e=t("brwd"),Le=t.n(_e),Pe=t("CBI0"),xe=t.n(Pe),Se=t("qPIv"),we=t.n(Se),De=t("LG2O"),Ie=t.n(De),Ne=t("OWo8"),ke=t.n(Ne),Te=t("TNry"),Be=t.n(Te),Re=t("7Gc7"),Fe=t.n(Re);function Ge(e){var a=e.rating,t=e.desktopPopoverActionParams,n=e.mobilePopoverActionParams,l=Object(r.useContext)(m.a).largeDevice,i=function(e){var a=function(e){return e.includes("A")?{letter:"A",color:"#00924F"}:e.includes("B")?{letter:"B",color:"#66B345"}:e.includes("C")?{letter:"C",color:"#A5CF4C"}:e.includes("D")?{letter:"D",color:"#F8E100"}:e.includes("E")?{letter:"E",color:"#EFAC1F"}:e.includes("F")?{letter:"F",color:"#E86E25"}:e.includes("G")?{letter:"G",color:"#DA2128"}:null}(e);return a?c.a.createElement(L.a,null,c.a.createElement("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 44 24"},c.a.createElement("path",{d:"M 9.4 0.2 L 32.8 0.2 L 43.6 12 L 32.8 23.8 L 9.4 23.8 Z",fill:a.color}),c.a.createElement("path",{d:"M 0.2 0.2 L 32.8 0.2 L 43.6 12 L 32.8 23.8 L 0.2 23.8 Z",stroke:"#000000",strokeWidth:"0.8",strokeLinejoin:"round",fill:"none"}),c.a.createElement("text",{fill:"black",fontFamily:"Arial",fontSize:"8px",x:"2.2",y:"7.2"},"A"),c.a.createElement("text",{fill:"black",fontFamily:"Arial",fontSize:"8px",x:"1.7",y:"22.1"},"G"),c.a.createElement("text",{x:"15",y:"18.5",className:Fe.a.energyEfficiencyBadgeRating},a.letter),c.a.createElement("path",{d:"M-13.995226,-2.605021l1.7441,2.444a1,1,0,0,0,1.25,-1.25l-2.5,-3.75a2,2,0,0,0,-2.5,0l-2.5,3.75a1,1,0,0,0,1.25,1.25l1.7441,-2.4028v9.7948a1,1,0,0,0,1.5942,0.0412Z",fill:"black",vectorEffect:"non-scaling-stroke",strokeWidth:"1px",transform:"matrix(0.50913 0 0 0.50913 12.3234 11.0934)"}))):null}(a),o=c.a.createElement("div",{className:Fe.a.energyEfficiencyBadge,"aria-hidden":!0},c.a.createElement(Be.a,{actionName:"a-modal",actionParams:t},i)),s=c.a.createElement("div",{className:Fe.a.energyEfficiencyBadge,"aria-hidden":!0},c.a.createElement(Be.a,{actionName:"a-secondary-view",actionParams:n},i));return l?o:s}function ze(e){var a=e.desktopPopoverActionParams,t=e.mobilePopoverActionParams,n=Object(r.useContext)(m.a).largeDevice,l=c.a.createElement("div",{className:Fe.a.energyEfficiencyText,"aria-hidden":!0},c.a.createElement(Be.a,{actionName:"a-modal",actionParams:a},c.a.createElement(d.a,{string_id:"deals-eel-text",default:"Product fiche"}))),i=c.a.createElement("div",{className:Fe.a.energyEfficiencyText,"aria-hidden":!0},c.a.createElement(Be.a,{actionName:"a-secondary-view",actionParams:t},c.a.createElement(d.a,{string_id:"deals-eel-text",default:"Product fiche"})));return n?l:i}function Me(e){var a=e.rating,t=e.energyEfficiencyImage,n=e.productFicheImage,r=e.dealId,l={name:"desktop_eel_badge_"+r,id:"Energy Efficiency & Product Fiche",height:"70vh",header:Object(d.b)("deals-eel-desktop-popover-header","Energy Efficiency & Product Fiche")},i={name:"desktop_eel_text_"+r,id:"Energy Efficiency & Product Fiche",height:"70vh",header:Object(d.b)("deals-eel-desktop-popover-header","Energy Efficiency & Product Fiche")},o={name:"mobile_eel_badge_"+r,alternateBackground:1,backButtonText:Object(d.b)("deals-eel-mobile-popover-back-button","Back")},s={name:"mobile_eel_text_"+r,alternateBackground:1,backButtonText:Object(d.b)("deals-eel-mobile-popover-back-button","Back")};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Fe.a.energyEfficiencyLabel,"aria-label":Object(d.b)("deals-eel-aria-label","The energy class is on a scale from G to A. This product has the energy class ${rating}.",{rating:a})},c.a.createElement(Ge,{rating:a,desktopPopoverActionParams:l,mobilePopoverActionParams:o}),c.a.createElement(ze,{desktopPopoverActionParams:i,mobilePopoverActionParams:s})),c.a.createElement(Le.a,{popoverName:l.name},c.a.createElement(ke.a,null,c.a.createElement(Ie.a,{name:"energy-efficiency-label-tabs"},c.a.createElement(we.a,{name:"energy-efficiency-tab",active:!0},c.a.createElement(d.a,{string_id:"deals-eel-desktop-popover-tab-heading-energy-efficiency",default:"Energy Efficiency"})),c.a.createElement(we.a,{name:"product-fiche-tab"},c.a.createElement(d.a,{string_id:"deals-eel-desktop-popover-tab-heading-product-fiche",default:"Product fiche"}))),c.a.createElement(xe.a,{name:"energy-efficiency-tab",active:!0},c.a.createElement(Ae.a,{className:Fe.a.desktopPopoverContentImage,source:t.url})),c.a.createElement(xe.a,{name:"product-fiche-tab"},c.a.createElement(Ae.a,{className:Fe.a.desktopPopoverContentImage,source:n.url})))),c.a.createElement(Le.a,{popoverName:i.name},c.a.createElement(ke.a,null,c.a.createElement(Ie.a,{name:"energy-efficiency-label-tabs"},c.a.createElement(we.a,{name:"energy-efficiency-tab"},c.a.createElement(d.a,{string_id:"deals-eel-desktop-popover-tab-heading-energy-efficiency",default:"Energy Efficiency"})),c.a.createElement(we.a,{name:"product-fiche-tab",active:!0},c.a.createElement(d.a,{string_id:"deals-eel-desktop-popover-tab-heading-product-fiche",default:"Product fiche"}))),c.a.createElement(xe.a,{name:"energy-efficiency-tab"},c.a.createElement(Ae.a,{className:Fe.a.desktopPopoverContentImage,source:t.url})),c.a.createElement(xe.a,{name:"product-fiche-tab",active:!0},c.a.createElement(Ae.a,{className:Fe.a.desktopPopoverContentImage,source:n.url})))),c.a.createElement(Le.a,{popoverName:o.name},c.a.createElement(Ae.a,{source:t.url})),c.a.createElement(Le.a,{popoverName:s.name},c.a.createElement(Ae.a,{source:n.url})))}var We=t("fEyW"),Ue=t.n(We);function He(e){var a=e.deal,t=e.isAriaHidden,l=Object(r.useContext)(m.a).largeDevice,i=a.dealDetails,E=a.dealStatus,b=a.dealRank,f=a.dealID,g=Object(r.useContext)(u.a),p=g.marketplaceId,h=g.weblabs,y=h.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388&&h.DEALS_AAPI_DEALS_BADGE_LABEL_TEXT_436388!==o.c.C,O=(null===h||void 0===h?void 0:h.DEALS_REMOVE_PRICE_540309)===o.c.T1,j=Object(P.a)(p),C=i.isSponsored&&c.a.createElement(A.a,{spacing:"micro"},c.a.createElement(L.a,{textColor:"tertiary",textSize:"mini"},c.a.createElement(d.a,{string_id:"deals-sponsored",default:"Sponsored"}))),_=Object(s.w)(a)&&c.a.createElement(be,{deal:a}),x={dealID:f,dealRank:b,percentClaimed:E.percentClaimed,url:i.egressUrl,sponsoredUrl:i.sponsoredUrl,source:s.c.TITLE,textNormal:!0},S=j&&i.energyEfficiencyLabel?c.a.createElement(Me,{rating:i.energyEfficiencyLabel.rating,energyEfficiencyImage:i.energyEfficiencyLabel.energyEfficiencyImage,productFicheImage:i.energyEfficiencyLabel.productFicheImage,dealId:f}):null,w=i.label&&i.label.message.some((function(e){return Object(s.z)(e)&&e.text.includes("%",0)})),D=Object(n.a)(Object(n.a)({},i.price),{showPercentOff:!w}),I=y||O?null:c.a.createElement(L.a,{textSize:"mini"},c.a.createElement(Y,Object(n.a)({},D))),N=Object(s.u)(a)?c.a.createElement(je,{deal:a}):null,k=c.a.createElement(Ve,{priceProps:D,dealDetails:i,isApexBadgingEnabled:y});return l?c.a.createElement(c.a.Fragment,null,C,k,I,c.a.createElement(v,Object(n.a)({},x,{isAriaHidden:t,textColor:"base"}),c.a.createElement("div",{className:Ue.a.truncate},i.title)),N,S,_):c.a.createElement(c.a.Fragment,null,C,k,I&&c.a.createElement("span",{role:"link"},I),c.a.createElement("div",{role:"link",className:Ue.a.truncate+" "+(Object(s.w)(a)?Ue.a.dealTitle:""),id:"mobile-card-title"},i.title),N,S,_)}var Ve=function(e){var a=e.dealDetails,t=e.priceProps,n=e.isApexBadgingEnabled;return a.label||a.messaging?n?c.a.createElement(le,{priceProps:t,label:a.label,messaging:a.messaging}):c.a.createElement(L.a,{textColor:"base",textSize:"mini","aria-live":"off"},c.a.createElement(z,{label:a.label,messaging:a.messaging})):null};var Xe=t("Os+G"),qe=t.n(Xe),Ke=t("oTqY"),Je=t.n(Ke),Ye=function(e){var a=e.className,t=Object(n.e)(e,["className"]);return c.a.createElement(qe.a,{cssClass:i()("aok-align-center-horizontally",Je.a.image,Je.a.imageAspectRatioFix,a)},c.a.createElement(Ze,Object(n.a)({},t)))};function Ze(e){var a=e.imageUrl,t=e.altText,r=e.width,l=e.confettiAnimation,o=2*r,s={altText:t,sourceUri:Qe(a,r),hiResSource:Qe(a,o),cssClass:i()(Je.a.imageObjectFit)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ae.a,Object(n.a)({},s)),(null===l||void 0===l?void 0:l.length)&&c.a.createElement(Ae.a,{cssClass:"confettiAnimation",sourceUri:e.confettiAnimation}))}function Qe(e,a){return e.baseUrl+"._AC_UF"+a+","+a+"_FMjpg_."+e.extension}var $e=t("9+g8"),ea=t.n($e);function aa(e){var a,t,l,f,g,p,h=e.deal,y=e.isHorizontal,O=e.confettiAnimation,C=e.isMobileHeroSingleDeal,A=e.isImageWithGreyBackground,_=e.isAriaHidden,L=Object(r.useContext)(m.a).largeDevice,P=h.dealID,x=h.dealDetails,S=h.dealStatus,w=h.dealRank,D=Object(r.useContext)(u.a),I=D.currency,N=D.isRtlLocale,k=D.weblabs,T=D.widgetType,B=(null===k||void 0===k?void 0:k.DEALS_REMOVE_PRICE_540309)===o.c.T1,R=function(e,a,t,n){return Object(r.useMemo)((function(){return{altTitle:Object(d.b)("deals-alt-group-deal","Deal")+": "+a+"; "+(n?"":te(e,t)),altTitleTruncated:a.length>125?a.slice(0,122).concat("..."):a}}),[a,n,e,t])}(x.price,x.title,I,B),F=R.altTitle,G=R.altTitleTruncated,z=Object(r.useRef)(null);!function(e,a){var t=Object(E.d)(),n=Object(r.useMemo)((function(){var a;return new IntersectionObserver((function(n){n[0].isIntersecting?a=setTimeout((function(){t(Object(b.j)({deal:e})),a=null}),1e3):a&&(clearTimeout(a),a=null)}),{threshold:.5})}),[e.dealID]);Object(r.useEffect)((function(){a.current&&n.observe(a.current);var e=a.current;return function(){e&&n.unobserve(e)}}),[n,a])}(h,z),function(e,a){var t=Object(r.useContext)(m.a),n=t.screenWidth,c=t.largeDevice,l=Object(r.useContext)(u.a),i=l.widgetType,o=l.locale,d=Object(E.d)();Object(r.useEffect)((function(){var t=a.current;if(t&&t.lastChild&&i===s.t.GRID&&!c){var r=t.children.namedItem("mobile-card-title"),l=r?window.getComputedStyle(r).getPropertyValue("font-size"):"",u=t.lastChild,m=setTimeout((function(){var a=u.getBoundingClientRect().bottom,r=t.getBoundingClientRect().bottom+18;if(r<a){var c=new Error("Content overflow detected in "+i+" widget with locale: "+o+", screen width: "+n+"px, card title font size: "+l+", deal: "+e.dealID+", the overflow value is "+(a-r)+"px");d(Object(b.i)({exception:c,message:c.message}))}}));return function(){return clearTimeout(m)}}}),[a,e,n,i,c,o,d])}(h,z),Object(r.useEffect)((function(){var e;null===(e=window.csa)||void 0===e||e.call(window,"Content",z.current)}),[]);var M={imageUrl:x.imageUrl,altText:G,confettiAnimation:O},W={dealID:P,dealRank:w,percentClaimed:S.percentClaimed,url:x.egressUrl,sponsoredUrl:x.sponsoredUrl,source:s.c.IMG},U=c.a.createElement("div",{className:i()(ea.a.contentWithPadding)},c.a.createElement(He,{deal:h,isAriaHidden:_})),H=c.a.createElement("div",{"data-testid":"content-horizontal",className:i()(ea.a.contentHorizontal,(a={},a[ea.a.rtl]=N,a[ea.a.mobileHeroSingleDealContent]=C,a))},U),V=y?c.a.createElement(c.a.Fragment,null,c.a.createElement(v,Object(n.a)({},W,{isAriaHidden:_,cssClass:i()(ea.a.imageHorizontal,ea.a.linkOutlineOffset,ea.a.imageWithPadding,(t={},t[ea.a.greyedOutImage]=A,t))}),c.a.createElement(Ye,Object(n.a)({},M,{width:210}))),H):c.a.createElement(c.a.Fragment,null,c.a.createElement(v,Object(n.a)({},W,{isAriaHidden:_,cssClass:ea.a.linkOutlineOffset}),c.a.createElement("div",{className:i()(ea.a.cardImageVertical,ea.a.imageWithPadding,(l={},l[ea.a.greyedOutImage]=A,l))},c.a.createElement(Ye,Object(n.a)({},M,{width:226})))),U),X=y?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:i()(ea.a.imageHorizontal,ea.a.imageWithPadding,(f={},f[ea.a.rtl]=N,f[ea.a.mobileHeroSingleDealImage]=C,f[ea.a.greyedOutImage]=A,f))},c.a.createElement(Ye,Object(n.a)({},M,{width:180}))),H):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:i()(ea.a.cardImageVertical,ea.a.imageWithPadding,(g={},g[ea.a.greyedOutImage]=A,g))},c.a.createElement(Ye,Object(n.a)({},M,{width:167}))),U),q=L?c.a.createElement("div",{"aria-label":F,className:(y?ea.a.cardHorizontal:ea.a.card)+" "+ea.a.cardWithoutActionButton,"data-testid":"deal-card","data-deal-id":P,"data-csa-c-type":"item","data-csa-c-item-type":"deal","data-csa-c-item-id":"amzn1.deal."+P,"data-csa-c-painter":T,"data-csa-c-posx":String(w+1),"data-csa-c-owner":"DealsX",ref:z},V):c.a.createElement(v,Object(n.a)({},W,{isAriaHidden:_,textNormal:!0,role:"group","aria-label":F,textColor:"base","data-testid":"deal-card","data-deal-id":P}),c.a.createElement("div",{ref:z,"data-csa-c-type":"item","data-csa-c-item-type":"deal","data-csa-c-item-id":"amzn1.deal."+P,"data-csa-c-painter":T,"data-csa-c-posx":String(w+1),"data-csa-c-owner":"DealsX",className:i()(ea.a.dealCard,(p={},p[ea.a.cardRtl]=N,p[ea.a.cardHorizontal]=y,p[ea.a.card]=!y,p[ea.a.mobileHeroSingleDealCard]=C,p))},X));return c.a.createElement(j,{message:JSON.stringify(e,null,2)},q)}},ptc0:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var n=t("mrSG"),r=t("q1tI"),c=t.n(r),l=t("T9J7"),i=t.n(l),o=t("TSYQ"),s=t.n(o),d=t("/xOi"),u=t("5Yw3"),m={width:"80%",margin:"2.1rem auto 1.3rem",textAlign:"center"};function E(e){return c.a.createElement("div",{style:e.height?Object(n.a)(Object(n.a)({},m),{height:e.height+"px"}):m,role:"note","data-testid":e.isWatchlistActive?"no-watched-deals-message":"no-deals-message","aria-live":"polite"},e.isWatchlistActive?c.a.createElement(f,null):c.a.createElement(b,null,e.children))}function b(e){var a=e.children,t=Object(r.useContext)(u.a).wineBottleGreen;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{textColor:"secondary",cssClass:s()({"discovery-color-white":t})},c.a.createElement(d.a,{string_id:"deals-no-deal-message",default:"No deals found"})),c.a.createElement(i.a,{textSize:"small",textColor:"secondary",cssClass:s()({"discovery-color-white":t})},c.a.createElement(d.a,{string_id:"deals-no-deal-message-secondary",default:"Please try again using different search filters."}),a))}function f(){var e=Object(r.useContext)(u.a).wineBottleGreen;return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{textBold:!0,cssClass:s()({"discovery-color-white":e})},c.a.createElement(d.a,{string_id:"deals-watching-deals-anticipation-message",default:"Watching, waiting, anticipating"})),c.a.createElement(i.a,{cssClass:s()({"discovery-color-white":e})},c.a.createElement(d.a,{string_id:"deals-no-watched-deal-message",default:"Upcoming deals you're watching will show here. When the deal starts, you'll get notified in the Amazon app."})))}}}]);
//# sourceMappingURL=static/js/static/js/1-83c9220988d84571e474.chunk.js.map.js